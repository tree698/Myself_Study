<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Event Delegation</title>
		<style>
			.selected {
				background-color: yellow;
			}
		</style>
	</head>
	<body>
		<ul>
			<li>1</li>
			<li>2</li>
			<li>3</li>
			<li>4</li>
			<li>5</li>
			<li>6</li>
			<li>7</li>
			<li>8</li>
			<li>9</li>
			<li>10</li>
			<li>11</li>
			<li>12</li>
		</ul>

		<script>
			/* 부모 노드에 딸린 자식들에게 공통적으로 / 반복적으로 어떤 이벤트를 처리해야 할때
            자식 노드에 일일이 이벤트를 등록하는 것 보다 부모 노드에 등록하는 것이 좋음 
             => 부모 노드는 모든 자식의 event listener를 들을 수 있기 때문 (bubbling & capture)
             => currentTarget, target 이용 => 원하는 target에만 처리  => event delegation (이벤트 위임) */

			// bad
			const lis = document.querySelectorAll('li');
			lis.forEach((li) => {
				li.addEventListener('click', () => {
					li.classList.add('selected');
				});
			});

			// cool
			const ul = document.querySelector('ul');
			ul.addEventListener('click', (item) => {
				if (item.target.tagName === 'LI') {
					item.target.classList.add('selected');
				}
			});
		</script>
	</body>
</html>
